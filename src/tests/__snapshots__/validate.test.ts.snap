// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Validate Config It accepts a valid config 1`] = `
{
  "nginx": {
    "log": "$time_local $remote_addr",
  },
  "servers": {
    "example.com": {
      "auth": [
        {
          "password": "password",
          "username": "username",
        },
      ],
      "certbot_name": "string",
      "custom_css": [
        "http://validurlstring",
      ],
      "custom_js": [
        "http://validurlarray",
      ],
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Content-Type": "text/html",
      },
      "html": "html string",
      "locations": [
        {
          "location": "indirect",
          "proxy_pass": "http://example.com",
        },
        {
          "location": "direct",
          "proxy_pass": "http://example.com",
        },
      ],
      "raw": {
        "custom": [
          "option",
        ],
      },
      "subdomains": {
        "no_return_allowed": {
          "locations": [
            {
              "html": "Return not needed in subdomain",
              "location": "/en",
            },
            {
              "headers": {
                "Access-Control-Allow-Origin": "https://return-not-needed-in-location",
              },
              "location": "/withCors",
            },
          ],
        },
        "redirects": {
          "redirect": "/",
        },
        "returns": {
          "return": "200 ok",
        },
        "rewrites": {
          "rewrite": "^ https://example.com",
        },
        "www": {
          "proxy_pass": "http://example.com",
        },
      },
      "websocket": true,
    },
  },
}
`;

exports[`Validate Config It checks for an invalid config 1`] = `
[
  "[ERROR] There was an issue with your config, the errors are listed below.",
  "[ERROR] Path: cloudflare",
  "[ERROR] Error: Expected boolean, received string",
  "[ERROR] Path: config",
  "[ERROR] Error: Unrecognized key(s) in object: 'unknown'",
  "[ERROR] Path: servers.example.com.proxy_pass",
  "[ERROR] Error: Invalid url",
  "[ERROR] Path: servers.example.com.headers",
  "[ERROR] Error: Expected object, received array",
  "[ERROR] Path: servers.example.com.redirect",
  "[ERROR] Error: Expected string, received array",
  "[ERROR] Path: servers.example.com.rewrite",
  "[ERROR] Error: Expected string, received array",
  "[ERROR] Path: servers.example.com.html",
  "[ERROR] Error: Expected string, received array",
  "[ERROR] Path: servers.example.com.certbot_name",
  "[ERROR] Error: Expected string, received array",
  "[ERROR] Path: servers.example.com.custom_css",
  "[ERROR] Error: Expected array, received object or Expected string, received object",
  "[ERROR] Path: servers.example.com.custom_js.0",
  "[ERROR] Error: Invalid url",
  "[ERROR] Path: servers.example.com.return",
  "[ERROR] Error: Expected string, received array or Expected number, received array",
  "[ERROR] Path: servers.example.com.auth.username",
  "[ERROR] Error: Username can't contain \\":\\"",
  "[ERROR] Path: servers.example.com.auth.password",
  "[ERROR] Error: Should be at least 1 characters",
  "[ERROR] Path: servers.example.com.auth",
  "[ERROR] Error: Unrecognized key(s) in object: 'unknown'",
  "[ERROR] Path: servers.example.com.locations.invalid",
  "[ERROR] Error: Invalid url",
  "[ERROR] Path: servers.example.com.cors",
  "[ERROR] Error: Invalid url or use \\"*\\" as a wildcard",
  "[ERROR] Path: servers.example.com.locations.extra.auth.username",
  "[ERROR] Error: Username should not be empty",
  "[ERROR] Path: servers.example.com.locations.extra.auth.password",
  "[ERROR] Error: Required",
  "[ERROR] Path: servers.example.com.subdomains.too_many",
  "[ERROR] Error: Too many \\"return\\" types, found: redirect, html, raw, please use only one of them.",
  "[ERROR] Path: servers.dns_error",
  "[ERROR] Error: DNS lookup failed for: not-existing",
]
`;

exports[`Validate Config It tests for invalid number of return types 1`] = `
[
  "[ERROR] There was an issue with your config, the errors are listed below.",
  "[ERROR] Path: servers.no returns",
  "[ERROR] Error: Please specify at least one \\"return\\" type: proxy_pass, return, redirect, rewrite, html, static, raw",
  "[ERROR] Path: servers.example.com",
  "[ERROR] Error: Too many \\"return\\" types, found: proxy_pass, redirect, rewrite, html, return, please use only one of them.",
]
`;
